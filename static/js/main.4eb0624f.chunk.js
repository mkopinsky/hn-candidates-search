(this.webpackJsonpcands=this.webpackJsonpcands||[]).push([[0],{14:function(e,t,n){},15:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),a=n(7),o=n.n(a),i=(n(14),n(9)),s=n(6),u=n(2),l=(n(15),n(8)),h=n.n(l),d=n(0),j="https://hn.algolia.com/api/v1/search_by_date?query=Ask%20HN:%20".concat((new Date).getFullYear(),"&tags=ask_hn,author_whoishiring&hitsPerPage=1000"),b=!1;function f(e){var t=e.setCondition,n=Object(c.useState)(!1),r=Object(u.a)(n,2),a=r[0],o=r[1],i=Object(c.useState)([]),s=Object(u.a)(i,2),l=s[0],h=s[1],j=Object(c.useState)([]),b=Object(u.a)(j,2),f=b[0],m=b[1];return Object(c.useEffect)((function(){t({remote:a,search:l,location:f})}),[a,l,f,t]),Object(d.jsxs)("div",{id:"search-bar",children:["Skills: \xa0\xa0\xa0\xa0\xa0\xa0",Object(d.jsx)("input",{type:"text",onChange:function(e){return h(e.target.value.replace(/\s+/g,"").split(","))}})," ",Object(d.jsx)("em",{children:"(comma seperated, eg: React, Django, Security)"}),Object(d.jsx)("br",{}),"Location: ",Object(d.jsx)("input",{type:"text",onChange:function(e){return m(e.target.value)}}),Object(d.jsx)("br",{}),"Remote: \xa0",Object(d.jsx)("input",{type:"checkbox",onClick:function(){return o(!a)}})]})}function m(e){var t=e.comments,n=e.condition,r=Object(c.useState)(!0),a=Object(u.a)(r,2),o=a[0],i=a[1];Object(c.useEffect)((function(){}),[t]),console.log(n);var l=t.sort((function(e,t){return new Date(t.date)-new Date(e.date)})).filter((function(e){if(n.remote&&e.remote!==n.remote)return!1;var t,c=Object(s.a)(n.search);try{for(c.s();!(t=c.n()).done;){var r=t.value;if(!e.comment.toLowerCase().includes(r.toLowerCase()))return!1}}catch(a){c.e(a)}finally{c.f()}return!(n.location&&!function(e){var t,n=Object(s.a)(e.toLowerCase().split(/<p|\n/));try{for(n.s();!(t=n.n()).done;){var c=t.value;if(c.includes("location"))return c}}catch(a){n.e(a)}finally{n.f()}return""}(e.comment).includes(n.location))})).map((function(e,t){return Object(d.jsx)("div",{dangerouslySetInnerHTML:{__html:h.a.sanitize('<div class="posting" key='.concat(t,"><b>Author:</b> ").concat(e.author,"<br /><b>Date:</b> ").concat(e.date,"<p />").concat(e.comment,"<p /></div><hr />"))}})}));return Object(d.jsxs)("div",{id:"candidates-container",children:[Object(d.jsxs)("div",{id:"show-button-line",children:[l.length," jobseekers match your search requirements\xa0\xa0\xa0",Object(d.jsx)("span",{onClick:function(){return i(!o)},children:o?"show \u25bc":"hide \u25b2"})]}),o?"":l]})}var O=function(){var e=Object(c.useState)([]),t=Object(u.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(null),o=Object(u.a)(a,2),s=o[0],l=o[1];return Object(c.useEffect)((function(){r([]),b||fetch(j).then((function(e){return e.json()})).then((function(e){e.hits.filter((function(e){return e.title.includes("wants")&&e.created_at.includes((new Date).getFullYear())})).map((function(e){return e.objectID})).forEach((function(e){fetch("https://hn.algolia.com/api/v1/search_by_date?query=&tags=comment,story_".concat(e,"&hitsPerPage=1000")).then((function(e){return e.json()})).then((function(t){var n=[];t.hits.filter((function(t){return"".concat(t.parent_id)==="".concat(e)})).forEach((function(e){var t=e.author,c=e.comment_text,r=e.created_at;n.push(function(e,t,n){return{author:e,comment:t,date:n,remote:!!t.toLowerCase().replace(/\s+/g,"").match(/remote:y/g),location:void 0,will_relocate:void 0}}(t,c,r))})),r((function(e){return[].concat(n,Object(i.a)(e))}))}))}))})),b=!0}),[]),Object(d.jsxs)("div",{className:"App",children:[Object(d.jsxs)("center",{children:[Object(d.jsx)("h1",{children:"HN Candidates Search"}),Object(d.jsxs)("div",{id:"author",children:["by ",Object(d.jsx)("a",{href:"https://github.com/seisvelas/hn-candidates-search",id:"xandre",rel:"noopener noreferrer nofollow",target:"_blank",children:"Xandre"})]})]}),Object(d.jsx)(f,{setCondition:l}),Object(d.jsx)(m,{comments:n,condition:s})]})},p=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,18)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),c(e),r(e),a(e),o(e)}))};o.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(O,{})}),document.getElementById("root")),p()}},[[17,1,2]]]);
//# sourceMappingURL=main.4eb0624f.chunk.js.map